# Servidor com Apache2 - Distros Debian

- **Tópicos**

  - 1. [Download do apache em sistemas Debian](#download-do-apache)
  - 2. [Rodar um servidor](#iniciando-o-servidor)
  - 3. [Adicionar um domínio no servidor](#atribuir-à-um-domínio)

> **Nota** - Execute todos os comandos de forma sequencial
### Download do apache
```
sudo apt-get install apache2
```
>**Nota** - Se der erro, rode o comando sudo apt-get update, para atualizar a distro, em seguida tente de novo.

### Iniciando o servidor
```
sudo service apache2 start
```
### Atribuir à um domínio
  Só poderá ser acessado na própria máquina
  - Dentro do do diretório abaixo:
    ```
    sudo nano /etc/apache2/sites-available/{nome_do_domínio.com}
    ```
  - Cole o seguinte código, em seguida, salve o arquivo:
    ```
    NameVirtualHost {nome_do_domínio.com}
      <VirtualHost {nome_do_domínio.com}>
      DocumentRoot /var/www/{nome_do_domínio.com}
      ServerName {nome_do_domínio.com}
      ServerAdmin admin@{nome_do_domínio.com}
      ErrorLog {nome_do_domínio.com}-error.log
      CustomLog {nome_do_domínio.com}_acess-log commom
    </VirtualHost>
    ```
    > **Nota** - Remover também as chaves { }
  
  - Em seguida, pegue o IP da máquina
    ```
      ifconfig
    ```
    > **Nota** - Copie o IP, normalmente está no valor eth0, se a internet está por cabo
  - Acesse a pasta de hosts do PC
    ```
      sudo nano /etc/hosts
    ```
  - Atribuir o Ip da máquina que está rodando o servidor, logo abaixo do localhost. Salve o arquivo
    ```
      GNU nano 6.4                                           /etc/hosts                                                 
      # This file was automatically generated by WSL. To stop automatic generation of this file, add the following entry to /># [network]
      # generateHosts = false
      127.0.0.1       localhost
      127.0.1.1       Desktop
      {ip_da_máquina}    {nome_do_domínio}

      # The following lines are desirable for IPv6 capable hosts
      ::1     ip6-localhost ip6-loopback
      fe00::0 ip6-localnet
      ff00::0 ip6-mcastprefix
      ff02::1 ip6-allnodes
      ff02::2 ip6-allrouters
    ```
  > **Detalhe** - A máquina que estiver rodando o servidor, precisa receber um IP de um roteador. Se for em uma máquina virtual, terá que configurá-la em modo Bridge.

  > **Sucesso** - Após seguir esses passos, já será possível acessar o site que etá rodando no servidor, com o nome do domínio






